<!DOCTYPE html>
<html lang="pt">
<head>
  <!-- General information -->
  <title>Comandos de RS</title>
  <meta charset="UTF-8">
  <meta name="Author" content="Rúben Garrido">
  <meta name="Description" content="Lista de comandos para o GNS3 e para dispositivos CISCO">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Theme color -->
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#F2F3F5"/>
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="black"/>
  
  <!-- PWA -->
  <link rel="canonical" href="https://rgarrido03.github.io/RS/" />
  <link rel="manifest" href="/RS/manifest.webmanifest">
  <script type="application/javascript" src="js/offline.js" ></script>
  <script>
    if (typeof navigator.serviceWorker !== 'undefined') {
      navigator.serviceWorker.register('pwabuilder-sw.js')
    }
  </script>
  
  <!-- Icon -->
  <link rel="mask-icon" href="ios/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" href="ios/64.png">
  <link rel="apple-touch-icon" sizes="180x180" href="ios/180.png">
  <link rel="icon" type="image/png" sizes="32x32" href="ios/32.png">
  <link rel="icon" type="image/png" sizes="any" href="ios/32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="ios/16.png">
  
  <!-- CSS -->
  <link href="css/design.css" rel="stylesheet">
  <link href="css/colors.css" rel="stylesheet">
  <link href="css/responsive.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  
  <!-- Banner-related needed features -->
  <script type="application/javascript" src="js/banner.js" ></script>
  <script type="application/javascript" src="https://unpkg.com/react@16.0.0/umd/react.production.min.js" ></script>
  <script type="application/javascript" src="https://unpkg.com/react-dom@16.0.0/umd/react-dom.production.min.js" ></script>
  <script type="application/javascript" src="https://unpkg.com/@babel/standalone/babel.min.js" ></script>
  <script type="application/javascript" src="https://unpkg.com/whatwg-fetch@3.0.0/dist/fetch.umd.js"></script>
</head>

<body>
  <div class="header">
    <div class="error-banner" id="error-banner">
      <p><i class="fas fa-network-wired"></i><br>
        <b>Sem ligação à Internet</b><br>
        A página poderá estar desatualizada.</p>
    </div>
    <h1>Comandos para GNS3 e CISCO</h1>
    <div class="info">
      <i class="fas fa-circle-info" id="icon" onclick="banner()"></i>
      <div class="info-banner" id="info-banner">
        <div id="commit"></div>
        <script type="text/jsx" src="js/github.jsx"></script>
      </div>
    </div>
  </div>

  <h2>Virtual PCs (GNS3)</h2>
  <div class="table-div">
    <table>
      <tr>
        <th class="width-first"></th>
        <th class="width-middle">Ação</th>
        <th>Comando</th>
      </tr>
      <tr>
        <th>Geral</th>
        <td class="separator">Guardar configuração</td>
        <td class="separator"><code>save</code></td>
      </tr>
      <tr>
        <th rowspan="5">IP</th>
        <td>Mostrar IP</td>
        <td><code>show ip</code></td>
      </tr>
      <tr>
        <td>Apagar IP configurado</td>
        <td><code>clear ip</code></td>
      </tr>
      <tr>
        <td>Configurar IP, sem <i>default gateway</i></td>
        <td><code>ip &lt;ip_address&gt; &lt;mask&gt;</code></td>
      </tr>
      <tr>
        <td>Configurar IP, com <i>default gateway</i></td>
        <td><code>ip &lt;ip_address&gt; &lt;mask&gt; &lt;default_gateway&gt;</code></td>
      </tr>
      <tr>
        <td class="separator">Configurar <i>default gateway</i></td>
        <td class="separator"><code>ip default-gateway &lt;address&gt;</code></td>
      </tr>
      <tr>
        <th rowspan="2">ARP</th>
        <td>Mostrar tabela ARP</td>
        <td><code>show arp</code></td>
      </tr>
      <tr>
        <td class="separator">Apagar tabela ARP</td>
        <td class="separator"><code>clear arp</code></td>
      </tr>
      <tr>
        <td class="end"><b>Outros</b></td>
        <td class="end">Fazer <i>ping</i> para outro dispositivo</td>
        <td class="end"><code>ping &lt;ip_address&gt;</code></td>
      </tr>
    </table>
  </div>
  <br>

  <h2>Switch L3 e router CISCO</h2>
  <div class="table-div">
    <table>
      <!-- Heading -->
      <tr>
        <th class="width-first"></th>
        <th class="width-middle">Ação</th>
        <th>Comando</th>
      </tr>

      <!-- Geral -->
      <tr>
        <th rowspan="3">Geral</th>
        <td>Mostrar configuração</td>
        <td><code>show run</code></td>
      </tr>
      <tr>
        <td>Guardar configuração</td>
        <td><code>write</code></td>
      </tr>
      <tr>
        <td class="separator">Entrar nas configurações</td>
        <td class="separator"><code>configure terminal</code></td>
      </tr>

      <!-- Portas -->
      <tr>
        <th rowspan="8">Portas</th>
        <td>Mostrar portas conectadas</td>
        <td><code>show ip interface brief</code></td>
      </tr>
      <tr>
        <td>Selecionar porta para configuração</td>
        <td><code>interface f&lt;P&gt;/&lt;port&gt;</code></td>
      </tr>
      <tr>
        <td>Selecionar várias portas para configuração</td>
        <td><code>interface range f&lt;P&gt;/&lt;port1&gt; - &lt;port2&gt;</code></td>
      </tr>
      <tr>
        <td>Configurar IP</td>
        <td><code>ip &lt;ip_address&gt; &lt;mask&gt;</code></td>
      </tr>
      <tr>
        <td>Ativar portas</td>
        <td><code>no shutdown</code></td>
      </tr>
      <tr>
        <td>Desativar portas</td>
        <td><code>shutdown</code></td>
      </tr>
      <tr>
        <td>Desativar gestão automática</td>
        <td><code>no autostate</code></td>
      </tr>
      <tr>
        <td class="separator">Escolher porta como trunk / interswitch</td>
        <td class="separator">
          <code>
            switchport mode trunk<br>
            switchport trunk encapsulation dot1q
          </code>
        </td>
      </tr>

      <!-- IPv6 -->
      <tr>
        <th rowspan="5">IPv6</th>
        <td>Ativar IPv6 Unicast Routing</td>
        <td><code>ipv6 unicast-routing</code></td>
      </tr>
      <tr>
        <td>Ativar IPv6 numa porta</td>
        <td><code>ipv6 enable</code></td>
      </tr>
      <tr>
        <td>Mostrar configuração IPv6</td>
        <td><code>show ipv6 interface brief</code></td>
      </tr>
      <tr>
        <td>Configurar IP</td>
        <td><code>ipv6 &lt;ip_address&gt;&lt;mask&gt;</code></td>
      </tr>
      <tr>
        <td class="separator">Configurar IP baseado em EUI-64</td>
        <td class="separator"><code>ipv6 &lt;ip_address&gt;&lt;mask&gt; eui-64</code></td>
      </tr>

      <!-- Rotas estáticas -->
      <tr>
        <th rowspan="3">Rotas estáticas</th>
        <td>IPv4</td>
        <td>
          <code>ip route &lt;net-id&gt; &lt;net-mask&gt; &lt;next-hop&gt;</code>
          <p style="margin-bottom:0;">Default: <code>0.0.0.0/0</code></p>
        </td>
      </tr>
      <tr>
        <td>IPv6</td>
        <td>
          <code>ipv6 route &lt;net-id/net-mask&gt; &lt;next-hop&gt;</code>
          <p style="margin-bottom:0;">Default: <code>::/0</code></p>
        </td>
      </tr>
      <tr>
        <td class="separator">Ver rotas configuradas</td>
        <td class="separator"><code>show ip route</code></td>
      </tr>

      <!-- RIP -->
      <tr>
        <th rowspan="6">RIP</th>
        <td>Abrir configuração RIP</td>
        <td><code>router rip</code></td>
      </tr>
      <tr>
        <td>Ativar RIPng numa porta</td>
        <td><code>ipv6 rip 1 enable</code></td>
      </tr>
      <tr>
        <td>Definir redes diretamente ligadas</td>
        <td><code>network &lt;id&gt;</code></td>
      </tr>
      <tr>
        <td>Ver rotas configuradas</td>
        <td><code>show ip[v6] route</code></td>
      </tr>
      <tr>
        <td>Ligar split-horizon</td>
        <td><code>ip split-horizon</code></td>
      </tr>
      <tr>
        <td class="separator">Definir rota por omissão</td>
        <td class="separator">
          IPv4: <code>default-information originate</code><br>
          IPv6: <code>ipv6 rip 1 default-information originate</code>
        </td>
      </tr>

      <!-- OSPF -->
      <tr>
        <th rowspan="9">OSPF</th>
        <td>Abrir configuração OSPF</td>
        <td><code>[ipv6] router ospf &lt;id&gt;</code></td>
      </tr>
      <tr>
        <td>Definir redes diretamente ligadas</td>
        <td><code>network &lt;id&gt; area &lt;id&gt;</code></td>
      </tr>
      <tr>
        <td>Definir interface conectada</td>
        <td><code>default-information originate</code></td>
      </tr>
      <tr>
        <td>Definir ID do router (OSPFv3)</td>
        <td><code>router-id &lt;n.n.n.n&gt;</code></td>
      </tr>
      <tr>
        <td>Ver rotas configuradas</td>
        <td><code>show ip[v6] route</code></td>
      </tr>
      <tr>
        <td>Ver custos</td>
        <td><code>show ip ospf interface</code></td>
      </tr>
      <tr>
        <td>Ver informações</td>
        <td>
          &#8226; <code>show ip[v6] ospf [ipv6-id] database</code><br>
          &#8226; <code>show ip[v6] ospf [ipv6-id] database network</code><br>
          &#8226; <code>show ip[v6] ospf [ipv6-id] database router</code><br>
          &#8226; <code>show ip[v6] ospf [ipv6-id] database summary</code><br>
          &#8226; <code>show ipv6 ospf &lt;ipv6-id&gt; database prefix</code>
        </td>
      </tr>
      <tr>
        <td>Definir custo da interface</td>
        <td><code>ip ospf cost &lt;value&gt;</code></td>
      </tr>
      <tr>
        <td class="separator">Definir rota por omissão</td>
        <td class="separator">
          IPv4: <code>default-information originate</code><br>
          IPv6: <code>default-information originate always</code>
        </td>
      </tr>


      <!-- VLANs -->
      <tr>
        <th rowspan="4">VLANs</th>
        <td>Mostrar VLANs</td>
        <td><code>show vlan-switch</code></td>
      </tr>
      <tr>
        <td>Selecionar VLAN para configuração</td>
        <td><code>interface vlan &lt;number&gt;</code></td>
      </tr>
      <tr>
        <td>Associar portas a uma VLAN</td>
        <td>
          <code>
          switchport mode access<br>
          switchport access vlan &lt;number&gt;
          </code>
        </td>
      </tr>
      <tr>
        <td class="separator">Ativar VLAN</td>
        <td class="separator">
          <code>
          vlan database<br>
          vlan &lt;number&gt;<br>
          apply<br>
          exit
          </code>
        </td>
      </tr>

      <!-- Routing -->
      <tr>
        <th rowspan="2"><b>Router</b></th>
        <td>Ativar funcionalidades de router</td>
        <td><code>ip routing</code></td>
      </tr>
      <tr>
        <td class="separator">Consultar tabela de <i>IP routing</i></td>
        <td class="separator"><code>show ip route</code></td>
      </tr>

      <!-- Switching -->
      <tr>
        <th rowspan="2"><b>Switch</b>¹</th>
        <td>Consultar tabela de <i>forwarding</i></td>
        <td><code>show mac-address-table</code></td>
      </tr>
      <tr>
        <td class="separator">Alterar tempo de vida dos endereços MAC</td>
        <td class="separator"><code>mac-address-table aging-time &lt;seconds&gt;</code></td>
      </tr>

      <!-- Spanning tree -->
      <tr>
        <td rowspan="5" class="end"><b><i>Spanning tree</i></b>¹</td>
        <td>Mostrar <i>spanning tree</i> atual</td>
        <td><code>show spanning-tree</code></td>
      </tr>
      <tr>
        <td>Mostrar <i>spanning tree</i> atual, para certa VLAN</td>
        <td><code>show spanning-tree vlan &lt;number&gt;</code></td>
      </tr>
      <tr>
        <td>Definir prioridade de um <i>switch</i></td>
        <td><code>spanning-tree vlan &lt;number&gt; priority &lt;value&gt;</code></td>
      </tr>
      <tr>
        <td>Definir custo da porta raiz (escolher porta primeiro)</td>
        <td><code>spanning-tree cost &lt;value&gt;</code></td>
      </tr>
      <tr>
        <td class="end">Definir <i>Hello Time</i>, para certa VLAN</td>
        <td class="end"><code>spanning-tree vlan &lt;number&gt; hello-time &lt;value&gt;</code></td>
      </tr>
    </table>
  </div>
  <p class="footnotes">¹ Comandos não disponíveis no router, por não possuir suporte à camada de nível 2.</p>
  <br>

  <div class="footer">
    <p>Feito com &#10084;&#65039; por Rúben Garrido.</p>
    <p>
      <a href="https://www.instagram.com/rubentgarrido/"><i class="fab fa-instagram"></i></a>
      <a href="https://twitter.com/rubentgarrido03"><i class="fab fa-twitter"></i></a>
      <a href="https://discord.com/users/607925437456187392"><i class="fab fa-discord"></i></a>
      <a href="https://github.com/RGarrido03"><i class="fab fa-github"></i></a>
    </p>
  </div>
</body>
</html>